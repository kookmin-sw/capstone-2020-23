<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.moayo.server.dao.BookDao">

    <select id="getBook" resultType="com.moayo.server.model.BookModel">
        select * from tb_book where co_no=#{no}
    </select>
    <select id="getBookByWriter" resultType="HashMap" parameterType="String">
        select * from tb_book where co_writer=#{writer}
    </select>
    <insert id="insertBook" parameterType="com.moayo.server.model.BookModel">
        INSERT INTO `tb_book` (`co_title`, `co_tag`, `co_password`, `co_writer`,`co_url`) VALUES (,#{co_title},#{co_tag},#{co_password},#{co_writer},#{co_url});
    </insert>
    <update id="updateBook" parameterType="com.moayo.server.model.BookModel">
        UPDATE tb_book SET `co_title` = #{co_title}, `co_tag` = #{co_tag}, `co_password` = #{co_password}, `co_writer` = #{co_writer}, `co_url` = #{co_url} WHERE (`co_no` = #{co_no})
    </update>
    <delete id="deleteBookByModel" parameterType="com.moayo.server.model.BookModel">
        DELETE FROM tb_book WHERE (`co_no` = #{co_no});
    </delete>
    <delete id="deleteBookByNo" parameterType="int">
        DELETE FROM tb_book WHERE (co_no = #{no})
    </delete>
</mapper>